(()=>{var e={};e.id=7792,e.ids=[7792],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},60237:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),t(52278),t(20797),t(69855),t(59198);var r=t(30170),a=t(45002),o=t(83876),n=t.n(o),d=t(66299),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(s,i);let l=["",{children:["(ops)",{children:["ops",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,52278)),"/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/(ops)/ops/settings/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,20797)),"/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/(ops)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,69855)),"/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,59198)),"/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/not-found.tsx"]}],c=["/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/(ops)/ops/settings/page.tsx"],u="/(ops)/ops/settings/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(ops)/ops/settings/page",pathname:"/ops/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},91055:(e,s,t)=>{Promise.resolve().then(t.bind(t,30137))},48799:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(9148).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8749:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(9148).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},30137:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(97247),a=t(90557),o=t(28964),n=t(8749),d=t(48799);function i(){let{data:e,update:s}=(0,a.kP)(),[t,i]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),[p,x]=(0,o.useState)(""),[b,g]=(0,o.useState)(!1),[f,h]=(0,o.useState)({name:"",company:"",phone:""}),[w,y]=(0,o.useState)({currentPassword:"",newPassword:"",confirmPassword:""});async function v(e){e.preventDefault(),i(!0),c(!1);try{(await fetch("/api/portal/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).ok&&(c(!0),await s(),setTimeout(()=>c(!1),3e3))}catch{}i(!1)}async function P(e){if(e.preventDefault(),x(""),g(!1),w.newPassword!==w.confirmPassword){x("Passwords do not match");return}if(w.newPassword.length<8){x("Password must be at least 8 characters");return}m(!0);try{let e=await fetch("/api/portal/settings/password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:w.currentPassword,newPassword:w.newPassword})});if(e.ok)g(!0),y({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>g(!1),3e3);else{let s=await e.json();x(s.error||"Failed to update password")}}catch{x("Something went wrong")}m(!1)}return(0,r.jsxs)("div",{className:"max-w-2xl",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h1",{className:"font-heading text-2xl font-bold text-navy-900",children:"Settings"}),r.jsx("p",{className:"text-text-secondary text-sm mt-1",children:"Manage your account settings"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6 mb-6",children:[r.jsx("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-4",children:"Profile Information"}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Email"}),r.jsx("input",{type:"email",value:e?.user?.email||"",disabled:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-text-secondary bg-surface-offwhite text-sm cursor-not-allowed"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Full Name"}),r.jsx("input",{type:"text",value:f.name,onChange:e=>h({...f,name:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Phone"}),r.jsx("input",{type:"tel",value:f.phone,onChange:e=>h({...f,phone:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,r.jsxs)("button",{type:"submit",disabled:t,className:"px-5 py-2.5 rounded-lg bg-orange text-white text-sm font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:[t?r.jsx(n.Z,{className:"h-4 w-4 animate-spin"}):l?r.jsx(d.Z,{className:"h-4 w-4"}):null,l?"Saved":"Save Changes"]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6",children:[r.jsx("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-4",children:"Change Password"}),p&&r.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:p}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Current Password"}),r.jsx("input",{type:"password",value:w.currentPassword,onChange:e=>y({...w,currentPassword:e.target.value}),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"New Password"}),r.jsx("input",{type:"password",value:w.newPassword,onChange:e=>y({...w,newPassword:e.target.value}),required:!0,minLength:8,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Confirm New Password"}),r.jsx("input",{type:"password",value:w.confirmPassword,onChange:e=>y({...w,confirmPassword:e.target.value}),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,r.jsxs)("button",{type:"submit",disabled:u,className:"px-5 py-2.5 rounded-lg bg-navy-900 text-white text-sm font-semibold hover:bg-navy-800 transition-colors disabled:opacity-50 flex items-center gap-2",children:[u?r.jsx(n.Z,{className:"h-4 w-4 animate-spin"}):b?r.jsx(d.Z,{className:"h-4 w-4"}):null,b?"Updated":"Update Password"]})]})]})]})}},52278:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(45347).createProxy)(String.raw`/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/(ops)/ops/settings/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9379,1730,5951,557,2011],()=>t(60237));module.exports=r})();