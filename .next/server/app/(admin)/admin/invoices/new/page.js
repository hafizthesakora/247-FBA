(()=>{var e={};e.id=6114,e.ids=[6114],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},80274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(15313),r(15883),r(69855),r(59198);var a=r(30170),n=r(45002),s=r(83876),o=r.n(s),i=r(66299),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let l=["",{children:["(admin)",{children:["admin",{children:["invoices",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,15313)),"/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/(admin)/admin/invoices/new/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,15883)),"/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/(admin)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,69855)),"/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,59198)),"/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/not-found.tsx"]}],c=["/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/(admin)/admin/invoices/new/page.tsx"],u="/(admin)/admin/invoices/new/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(admin)/admin/invoices/new/page",pathname:"/admin/invoices/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},59290:(e,t,r)=>{Promise.resolve().then(r.bind(r,79536))},77940:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(9148).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8749:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(9148).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},79536:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(97247),n=r(28964),s=r(34178),o=r(79906),i=r(77940),d=r(8749);function l(){let e=(0,s.useRouter)(),[t,r]=(0,n.useState)([]),[l,c]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),[p,x]=(0,n.useState)({orderId:"",amount:"",dueDate:""});async function b(t){t.preventDefault(),m(""),c(!0);try{let t=await fetch("/api/admin/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:p.orderId,amount:parseFloat(p.amount),dueDate:p.dueDate})});if(!t.ok){let e=await t.json();m(e.error||"Failed to create invoice"),c(!1);return}e.push("/admin/invoices")}catch{m("Something went wrong"),c(!1)}}return(0,a.jsxs)("div",{className:"max-w-lg",children:[(0,a.jsxs)(o.default,{href:"/admin/invoices",className:"inline-flex items-center gap-1 text-sm text-text-secondary hover:text-navy-900 mb-4 transition-colors",children:[a.jsx(i.Z,{className:"h-4 w-4"}),"Back to Invoices"]}),a.jsx("h1",{className:"font-heading text-2xl font-bold text-navy-900 mb-6",children:"Create Invoice"}),u&&a.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:u}),(0,a.jsxs)("form",{onSubmit:b,className:"bg-white rounded-xl border border-surface-border p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Order"}),(0,a.jsxs)("select",{value:p.orderId,onChange:e=>(function(e){let r=t.find(t=>t.id===e);x({orderId:e,amount:r?r.totalAmount.toString():"",dueDate:p.dueDate})})(e.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",children:[a.jsx("option",{value:"",children:"Select an order..."}),t.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.shipment.trackingNumber," — ",e.user.company||e.user.name||"Client"," (€",e.totalAmount.toFixed(2),")"]},e.id))]}),0===t.length&&a.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"No uninvoiced orders available"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Amount (€)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:p.amount,onChange:e=>x({...p,amount:e.target.value}),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Due Date"}),a.jsx("input",{type:"date",value:p.dueDate,onChange:e=>x({...p,dueDate:e.target.value}),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(o.default,{href:"/admin/invoices",className:"px-5 py-2.5 rounded-lg border border-surface-border text-sm font-medium text-navy-900 hover:bg-surface-offwhite transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",disabled:l,className:"px-5 py-2.5 rounded-lg bg-orange text-white text-sm font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:[l&&a.jsx(d.Z,{className:"h-4 w-4 animate-spin"}),"Create Invoice"]})]})]})]})}},15313:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(45347).createProxy)(String.raw`/Users/macbook/Desktop/24:7Onboarding/247-fba-platform/src/app/(admin)/admin/invoices/new/page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9379,1730,5951,557,2173,9930],()=>r(80274));module.exports=a})();