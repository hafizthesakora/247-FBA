(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{73531:function(e,t,r){Promise.resolve().then(r.bind(r,34995))},68755:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(2265);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},u=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:u="",children:d,iconNode:m,...h}=e;return(0,n.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:i?24*Number(o)/Number(s):o,className:a("lucide",u),...!d&&!c(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,n.forwardRef)((r,o)=>{let{className:l,...c}=r;return(0,n.createElement)(u,{ref:o,iconNode:t,className:a("lucide-".concat(s(i(e))),"lucide-".concat(e),l),...c})});return r.displayName=i(e),r}},87769:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(68755).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42208:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(68755).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(68755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(72972),a=r.n(n)},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},34995:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(57437),a=r(2265),s=r(27526),o=r(99376),i=r(27648),l=r(87769),c=r(42208),u=r(51817);function d(){let e=(0,o.useRouter)(),[t,r]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[h,f]=(0,a.useState)(!1),[x,p]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1);async function y(r){r.preventDefault(),p(""),b(!0);try{var n,a;let r=await (0,s.zB)("credentials",{email:t,password:d,redirect:!1});if(null==r?void 0:r.error){p("Invalid email or password"),b(!1);return}let o=await fetch("/api/auth/session"),i=await o.json();(null==i?void 0:null===(n=i.user)||void 0===n?void 0:n.role)==="ADMIN"?e.push("/admin"):(null==i?void 0:null===(a=i.user)||void 0===a?void 0:a.role)==="OPERATOR"?e.push("/ops"):e.push("/portal"),e.refresh()}catch(e){p("Something went wrong. Please try again."),b(!1)}}return(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-card p-8",children:[(0,n.jsx)("h1",{className:"font-heading text-2xl font-bold text-navy-900 mb-2",children:"Welcome back"}),(0,n.jsx)("p",{className:"text-text-secondary text-sm mb-6",children:"Sign in to your client portal"}),x&&(0,n.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:x}),(0,n.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",value:t,onChange:e=>r(e.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 placeholder:text-text-secondary/50 focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange transition-colors",placeholder:"you@company.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Password"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{id:"password",type:h?"text":"password",value:d,onChange:e=>m(e.target.value),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 placeholder:text-text-secondary/50 focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange transition-colors pr-10",placeholder:"Enter your password"}),(0,n.jsx)("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary hover:text-navy-900 transition-colors",children:h?(0,n.jsx)(l.Z,{className:"h-4 w-4"}):(0,n.jsx)(c.Z,{className:"h-4 w-4"})})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",className:"rounded border-surface-border text-orange focus:ring-orange"}),(0,n.jsx)("span",{className:"text-sm text-text-secondary",children:"Remember me"})]}),(0,n.jsx)(i.default,{href:"/forgot-password",className:"text-sm text-orange hover:text-orange-600 font-medium transition-colors",children:"Forgot password?"})]}),(0,n.jsx)("button",{type:"submit",disabled:g,className:"w-full py-2.5 rounded-lg bg-orange text-white font-semibold hover:bg-orange-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{className:"h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]}),(0,n.jsxs)("p",{className:"mt-6 text-center text-sm text-text-secondary",children:["Don't have an account?"," ",(0,n.jsx)(i.default,{href:"/register",className:"text-orange hover:text-orange-600 font-medium transition-colors",children:"Register here"})]})]})}}},function(e){e.O(0,[2972,7526,2971,2117,1744],function(){return e(e.s=73531)}),_N_E=e.O()}]);