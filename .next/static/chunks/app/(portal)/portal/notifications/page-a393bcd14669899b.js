(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3243],{81961:function(e,t,n){Promise.resolve().then(n.bind(n,34215))},94766:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(68755).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},30401:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(68755).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},48736:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(68755).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},44794:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(68755).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},16275:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(68755).Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},27648:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var a=n(72972),s=n.n(a)},34215:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(57437),s=n(2265),r=n(44794),i=n(16275),c=n(48736);let o=(0,n(68755).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var l=n(30401),d=n(94766),u=n(93448),x=n(80216);let f={SHIPMENT:r.Z,ORDER:i.Z,INVOICE:c.Z,SYSTEM:o};function h(){let[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0);async function i(n){await fetch("/api/portal/notifications/".concat(n),{method:"PUT"}),t(e.map(e=>e.id===n?{...e,read:!0}:e))}async function c(){await fetch("/api/portal/notifications/read-all",{method:"PUT"}),t(e.map(e=>({...e,read:!0})))}if((0,s.useEffect)(()=>{fetch("/api/portal/notifications").then(e=>e.json()).then(e=>{t(e.notifications||[]),r(!1)}).catch(()=>r(!1))},[]),n)return(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange border-t-transparent rounded-full"})});let o=e.filter(e=>!e.read).length;return(0,a.jsxs)("div",{className:"max-w-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-heading text-2xl font-bold text-navy-900",children:"Notifications"}),(0,a.jsx)("p",{className:"text-text-secondary text-sm mt-1",children:o>0?"".concat(o," unread notification").concat(o>1?"s":""):"All caught up!"})]}),o>0&&(0,a.jsxs)("button",{onClick:c,className:"text-sm text-orange hover:text-orange-600 font-medium flex items-center gap-1",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),"Mark all read"]})]}),0===e.length?(0,a.jsx)(x.u,{icon:d.Z,title:"No notifications",description:"You'll receive notifications about shipment updates, order status, and invoices here."}):(0,a.jsx)("div",{className:"bg-white rounded-xl border border-surface-border divide-y divide-surface-border",children:e.map(e=>{let t=f[e.type]||d.Z;return(0,a.jsxs)("div",{className:(0,u.cn)("flex gap-4 p-4 transition-colors",!e.read&&"bg-orange-50/50"),children:[(0,a.jsx)("div",{className:(0,u.cn)("h-9 w-9 rounded-lg flex items-center justify-center shrink-0",e.read?"bg-gray-100":"bg-orange/10"),children:(0,a.jsx)(t,{className:(0,u.cn)("h-4 w-4",e.read?"text-text-secondary":"text-orange")})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsx)("p",{className:(0,u.cn)("text-sm",e.read?"font-medium text-navy-900":"font-semibold text-navy-900"),children:e.title}),(0,a.jsx)("span",{className:"text-xs text-text-secondary whitespace-nowrap",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsx)("p",{className:"text-sm text-text-secondary mt-0.5",children:e.message}),!e.read&&(0,a.jsx)("button",{onClick:()=>i(e.id),className:"text-xs text-orange hover:text-orange-600 font-medium mt-1",children:"Mark as read"})]})]},e.id)})})]})}},80216:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});var a=n(57437),s=n(27648);function r(e){let{icon:t,title:n,description:r,actionLabel:i,actionHref:c}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,a.jsx)("div",{className:"h-16 w-16 rounded-2xl bg-navy-50 flex items-center justify-center mb-4",children:(0,a.jsx)(t,{className:"h-8 w-8 text-navy-400"})}),(0,a.jsx)("h3",{className:"font-heading text-lg font-semibold text-navy-900 mb-1",children:n}),(0,a.jsx)("p",{className:"text-sm text-text-secondary max-w-sm mb-6",children:r}),i&&c&&(0,a.jsx)(s.default,{href:c,className:"px-5 py-2.5 text-sm font-semibold rounded-lg bg-orange text-white hover:bg-orange-600 transition-all duration-300",children:i})]})}},93448:function(e,t,n){"use strict";n.d(t,{cn:function(){return r}});var a=n(61994),s=n(53335);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[2972,8697,2971,2117,1744],function(){return e(e.s=81961)}),_N_E=e.O()}]);