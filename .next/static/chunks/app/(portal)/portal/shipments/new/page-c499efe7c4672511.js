(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2292],{50484:function(e,t,r){Promise.resolve().then(r.bind(r,34688))},68755:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(2265);let s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},d=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:d="",children:c,iconNode:m,...x}=e;return(0,n.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:i?24*Number(o)/Number(a):o,className:s("lucide",d),...!c&&!u(x)&&{"aria-hidden":"true"},...x},[...m.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),c=(e,t)=>{let r=(0,n.forwardRef)((r,o)=>{let{className:l,...u}=r;return(0,n.createElement)(d,{ref:o,iconNode:t,className:s("lucide-".concat(a(i(e))),"lucide-".concat(e),l),...u})});return r.displayName=i(e),r}},32660:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(68755).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(68755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(68755).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(72972),s=r.n(n)},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},34688:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(57437),s=r(2265),a=r(99376),o=r(32660),i=r(99397);let l=(0,r(68755).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var u=r(51817),d=r(27648);function c(){let e=(0,a.useRouter)(),[t,r]=(0,s.useState)(!1),[c,m]=(0,s.useState)(""),[x,h]=(0,s.useState)({origin:"",destination:"",weight:"",notes:""}),[p,f]=(0,s.useState)([{productName:"",sku:"",quantity:1,prepType:"LABELING"}]);function g(e,t,r){f(p.map((n,s)=>s===e?{...n,[t]:r}:n))}async function b(t){t.preventDefault(),m(""),r(!0);try{let t=await fetch("/api/portal/shipments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({origin:x.origin,destination:x.destination,weight:x.weight?parseFloat(x.weight):null,notes:x.notes||null,items:p})});if(!t.ok){let e=await t.json();m(e.error||"Failed to create shipment"),r(!1);return}let n=await t.json();e.push("/portal/shipments/".concat(n.shipment.id))}catch(e){m("Something went wrong"),r(!1)}}return(0,n.jsxs)("div",{className:"max-w-3xl",children:[(0,n.jsxs)(d.default,{href:"/portal/shipments",className:"inline-flex items-center gap-1 text-sm text-text-secondary hover:text-navy-900 mb-4 transition-colors",children:[(0,n.jsx)(o.Z,{className:"h-4 w-4"}),"Back to Shipments"]}),(0,n.jsx)("h1",{className:"font-heading text-2xl font-bold text-navy-900 mb-6",children:"Create New Shipment"}),c&&(0,n.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:c}),(0,n.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6",children:[(0,n.jsx)("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-4",children:"Shipment Details"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Origin"}),(0,n.jsx)("input",{type:"text",value:x.origin,onChange:e=>h({...x,origin:e.target.value}),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",placeholder:"e.g. Your warehouse"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Destination"}),(0,n.jsx)("input",{type:"text",value:x.destination,onChange:e=>h({...x,destination:e.target.value}),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",placeholder:"e.g. Amazon FBA Warehouse"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Weight (kg)"}),(0,n.jsx)("input",{type:"number",step:"0.1",value:x.weight,onChange:e=>h({...x,weight:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",placeholder:"Optional"})]})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Notes"}),(0,n.jsx)("textarea",{value:x.notes,onChange:e=>h({...x,notes:e.target.value}),rows:3,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange resize-none",placeholder:"Special instructions..."})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h2",{className:"font-heading text-base font-semibold text-navy-900",children:"Items"}),(0,n.jsxs)("button",{type:"button",onClick:function(){f([...p,{productName:"",sku:"",quantity:1,prepType:"LABELING"}])},className:"inline-flex items-center gap-1 text-sm text-orange hover:text-orange-600 font-medium",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4"}),"Add Item"]})]}),(0,n.jsx)("div",{className:"space-y-4",children:p.map((e,t)=>(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_auto_auto_auto_auto] gap-3 items-end p-4 rounded-lg bg-surface-offwhite",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-navy-900 mb-1",children:"Product Name"}),(0,n.jsx)("input",{type:"text",value:e.productName,onChange:e=>g(t,"productName",e.target.value),required:!0,className:"w-full px-3 py-2 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",placeholder:"Product name"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-navy-900 mb-1",children:"SKU"}),(0,n.jsx)("input",{type:"text",value:e.sku,onChange:e=>g(t,"sku",e.target.value),className:"w-full px-3 py-2 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",placeholder:"SKU"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-navy-900 mb-1",children:"Qty"}),(0,n.jsx)("input",{type:"number",min:1,value:e.quantity,onChange:e=>g(t,"quantity",parseInt(e.target.value)||1),className:"w-20 px-3 py-2 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-navy-900 mb-1",children:"Prep Type"}),(0,n.jsxs)("select",{value:e.prepType,onChange:e=>g(t,"prepType",e.target.value),className:"w-full px-3 py-2 rounded-lg border border-surface-border text-navy-900 text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",children:[(0,n.jsx)("option",{value:"LABELING",children:"Labeling"}),(0,n.jsx)("option",{value:"POLY_BAG",children:"Poly Bag"}),(0,n.jsx)("option",{value:"BUBBLE_WRAP",children:"Bubble Wrap"}),(0,n.jsx)("option",{value:"BUNDLING",children:"Bundling"}),(0,n.jsx)("option",{value:"INSPECTION",children:"Inspection"}),(0,n.jsx)("option",{value:"CUSTOM",children:"Custom"})]})]}),(0,n.jsx)("button",{type:"button",onClick:()=>{1!==p.length&&f(p.filter((e,r)=>r!==t))},disabled:1===p.length,className:"p-2 text-text-secondary hover:text-red-500 disabled:opacity-30 transition-colors",children:(0,n.jsx)(l,{className:"h-4 w-4"})})]},t))})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,n.jsx)(d.default,{href:"/portal/shipments",className:"px-5 py-2.5 rounded-lg border border-surface-border text-sm font-medium text-navy-900 hover:bg-surface-offwhite transition-colors",children:"Cancel"}),(0,n.jsx)("button",{type:"submit",disabled:t,className:"px-5 py-2.5 rounded-lg bg-orange text-white text-sm font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):"Create Shipment"})]})]})]})}}},function(e){e.O(0,[2972,2971,2117,1744],function(){return e(e.s=50484)}),_N_E=e.O()}]);