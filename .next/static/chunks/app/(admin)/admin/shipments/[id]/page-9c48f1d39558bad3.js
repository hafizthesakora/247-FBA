(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3442],{14362:function(e,t,s){Promise.resolve().then(s.bind(s,44516))},32660:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(68755).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},51817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(68755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},27648:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var a=s(72972),n=s.n(a)},99376:function(e,t,s){"use strict";var a=s(35475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},44516:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(57437),n=s(2265),r=s(99376),l=s(27648),d=s(32660),c=s(51817),i=s(48859);let x=["DRAFT","RECEIVED","INSPECTING","PREPPING","QUALITY_CHECK","READY_TO_SHIP","SHIPPED","DELIVERED"];function o(){let e=(0,r.useParams)();(0,r.useRouter)();let[t,s]=(0,n.useState)(null),[o,m]=(0,n.useState)(!0),[u,h]=(0,n.useState)(!1),[p,b]=(0,n.useState)("");async function g(){if(p&&p!==(null==t?void 0:t.status)){h(!0);try{let t=await fetch("/api/admin/shipments/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:p})});if(t.ok){let e=await t.json();s(e.shipment)}}catch(e){}h(!1)}}return((0,n.useEffect)(()=>{fetch("/api/admin/shipments/".concat(e.id)).then(e=>e.json()).then(e=>{var t;s(e.shipment),b((null===(t=e.shipment)||void 0===t?void 0:t.status)||""),m(!1)}).catch(()=>m(!1))},[e.id]),o)?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange border-t-transparent rounded-full"})}):t?(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.default,{href:"/admin/shipments",className:"inline-flex items-center gap-1 text-sm text-text-secondary hover:text-navy-900 mb-4 transition-colors",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),"Back to Shipments"]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-heading text-2xl font-bold text-navy-900",children:t.trackingNumber}),(0,a.jsxs)("p",{className:"text-text-secondary text-sm mt-1",children:["Client: ",t.user.company||t.user.name||t.user.email]})]}),(0,a.jsx)(i.O,{status:t.status})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6 mb-6",children:[(0,a.jsx)("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-4",children:"Update Status"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsx)("select",{value:p,onChange:e=>b(e.target.value),className:"flex-1 max-w-xs px-4 py-2.5 rounded-lg border border-surface-border text-sm text-navy-900 focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",children:x.map(e=>(0,a.jsx)("option",{value:e,children:e.replace(/_/g," ")},e))}),(0,a.jsxs)("button",{onClick:g,disabled:u||p===t.status,className:"px-5 py-2.5 rounded-lg bg-orange text-white text-sm font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:[u&&(0,a.jsx)(c.Z,{className:"h-4 w-4 animate-spin"}),"Update Status"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6",children:[(0,a.jsx)("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-4",children:"Shipment Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-text-secondary text-xs",children:"Origin"}),(0,a.jsx)("p",{className:"text-navy-900",children:t.origin})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-text-secondary text-xs",children:"Destination"}),(0,a.jsx)("p",{className:"text-navy-900",children:t.destination})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-text-secondary text-xs",children:"Items"}),(0,a.jsx)("p",{className:"text-navy-900",children:t.itemCount})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-text-secondary text-xs",children:"Weight"}),(0,a.jsx)("p",{className:"text-navy-900",children:t.weight?"".concat(t.weight," kg"):"—"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-text-secondary text-xs",children:"Created"}),(0,a.jsx)("p",{className:"text-navy-900",children:new Date(t.createdAt).toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-text-secondary text-xs",children:"Updated"}),(0,a.jsx)("p",{className:"text-navy-900",children:new Date(t.updatedAt).toLocaleString()})]})]}),t.notes&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-surface-border",children:[(0,a.jsx)("p",{className:"text-text-secondary text-xs mb-1",children:"Notes"}),(0,a.jsx)("p",{className:"text-sm text-navy-900",children:t.notes})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6",children:[(0,a.jsxs)("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-4",children:["Items (",t.items.length,")"]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-surface-border",children:[(0,a.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-text-secondary uppercase",children:"Product"}),(0,a.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-text-secondary uppercase",children:"SKU"}),(0,a.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-text-secondary uppercase",children:"Qty"}),(0,a.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-text-secondary uppercase",children:"Prep"})]})}),(0,a.jsx)("tbody",{children:t.items.map(e=>(0,a.jsxs)("tr",{className:"border-b border-surface-border last:border-0",children:[(0,a.jsx)("td",{className:"py-2 px-3 text-navy-900",children:e.productName}),(0,a.jsx)("td",{className:"py-2 px-3 text-text-secondary",children:e.sku||"—"}),(0,a.jsx)("td",{className:"py-2 px-3 text-navy-900",children:e.quantity}),(0,a.jsx)("td",{className:"py-2 px-3",children:(0,a.jsx)(i.O,{status:e.prepType})})]},e.id))})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6",children:[(0,a.jsx)("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-3",children:"Client"}),(0,a.jsx)("p",{className:"text-sm font-medium text-navy-900",children:t.user.name||"—"}),(0,a.jsx)("p",{className:"text-xs text-text-secondary",children:t.user.email}),t.user.company&&(0,a.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:t.user.company}),(0,a.jsx)(l.default,{href:"/admin/clients/".concat(t.user.id),className:"text-xs text-orange hover:text-orange-600 font-medium mt-2 inline-block",children:"View Client"})]}),t.order&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6",children:[(0,a.jsx)("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-3",children:"Order"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-text-secondary",children:"Status"}),(0,a.jsx)(i.O,{status:t.order.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-text-secondary",children:"Amount"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-navy-900",children:["€",t.order.totalAmount.toFixed(2)]})]})]})]})]})]})]}):(0,a.jsx)("div",{className:"text-center py-16",children:(0,a.jsx)("p",{className:"text-text-secondary",children:"Shipment not found"})})}},48859:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});var a=s(57437),n=s(93448);let r={DRAFT:"bg-gray-100 text-gray-700",RECEIVED:"bg-blue-100 text-blue-700",INSPECTING:"bg-yellow-100 text-yellow-700",PREPPING:"bg-purple-100 text-purple-700",QUALITY_CHECK:"bg-indigo-100 text-indigo-700",READY_TO_SHIP:"bg-cyan-100 text-cyan-700",SHIPPED:"bg-orange-100 text-orange-700",DELIVERED:"bg-green-100 text-green-700",PENDING:"bg-yellow-100 text-yellow-700",PROCESSING:"bg-blue-100 text-blue-700",COMPLETED:"bg-green-100 text-green-700",CANCELLED:"bg-red-100 text-red-700",SENT:"bg-blue-100 text-blue-700",PAID:"bg-green-100 text-green-700",OVERDUE:"bg-red-100 text-red-700",IN_PROGRESS:"bg-blue-100 text-blue-700",ACTIVE:"bg-green-100 text-green-700",INACTIVE:"bg-gray-100 text-gray-700",LOW:"bg-slate-100 text-slate-700",MEDIUM:"bg-yellow-100 text-yellow-700",HIGH:"bg-orange-100 text-orange-700",URGENT:"bg-red-100 text-red-700"};function l(e){let{status:t,className:s}=e;return(0,a.jsx)("span",{className:(0,n.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold capitalize",r[t]||"bg-gray-100 text-gray-700",s),children:t.replace(/_/g," ").toLowerCase()})}},93448:function(e,t,s){"use strict";s.d(t,{cn:function(){return r}});var a=s(61994),n=s(53335);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[2972,8697,2971,2117,1744],function(){return e(e.s=14362)}),_N_E=e.O()}]);