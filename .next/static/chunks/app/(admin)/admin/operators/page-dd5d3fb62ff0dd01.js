(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7162],{7111:function(e,t,r){Promise.resolve().then(r.bind(r,47493))},40875:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(68755).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},89573:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(68755).Z)("hard-hat",[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(68755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(68755).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var s=r(72972),n=r.n(s)},47493:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(57437),n=r(2265),a=r(99397),o=r(51817),l=r(89573),i=r(55437),c=r(80216);function d(){let[e,t]=(0,n.useState)([]),[r,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),[f,b]=(0,n.useState)(""),[p,g]=(0,n.useState)({name:"",email:"",password:"",phone:""});function y(){fetch("/api/admin/operators").then(e=>e.json()).then(e=>{t(e.operators||[]),d(!1)}).catch(()=>d(!1))}async function v(e){e.preventDefault(),h(!0),b("");try{let e=await fetch("/api/admin/operators",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(e.ok)m(!1),g({name:"",email:"",password:"",phone:""}),y();else{let t=await e.json();b(t.error||"Failed to create operator")}}catch(e){b("Something went wrong")}h(!1)}return((0,n.useEffect)(()=>{y()},[]),r)?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange border-t-transparent rounded-full"})}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"font-heading text-2xl font-bold text-navy-900",children:"Operators"}),(0,s.jsx)("p",{className:"text-text-secondary text-sm mt-1",children:"Manage warehouse operators"})]}),(0,s.jsxs)("button",{onClick:()=>m(!u),className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg bg-orange text-white text-sm font-semibold hover:bg-orange-600 transition-colors",children:[(0,s.jsx)(a.Z,{className:"h-4 w-4"}),"Add Operator"]})]}),u&&(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6 mb-6",children:[(0,s.jsx)("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-4",children:"New Operator"}),f&&(0,s.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:f}),(0,s.jsxs)("form",{onSubmit:v,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Name"}),(0,s.jsx)("input",{type:"text",value:p.name,onChange:e=>g({...p,name:e.target.value}),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Email"}),(0,s.jsx)("input",{type:"email",value:p.email,onChange:e=>g({...p,email:e.target.value}),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Password"}),(0,s.jsx)("input",{type:"password",value:p.password,onChange:e=>g({...p,password:e.target.value}),required:!0,minLength:8,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:p.phone,onChange:e=>g({...p,phone:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,s.jsxs)("div",{className:"sm:col-span-2 flex gap-3",children:[(0,s.jsxs)("button",{type:"submit",disabled:x,className:"px-5 py-2.5 rounded-lg bg-orange text-white text-sm font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:[x&&(0,s.jsx)(o.Z,{className:"h-4 w-4 animate-spin"}),"Create Operator"]}),(0,s.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-5 py-2.5 rounded-lg border border-surface-border text-sm font-medium hover:bg-surface-offwhite transition-colors",children:"Cancel"})]})]})]}),0===e.length?(0,s.jsx)(c.u,{icon:l.Z,title:"No operators yet",description:"Add operators to manage warehouse operations.",actionLabel:"Add Operator"}):(0,s.jsx)("div",{className:"bg-white rounded-xl border border-surface-border",children:(0,s.jsx)(i.w,{columns:[{key:"name",label:"Name",sortable:!0,render:e=>(0,s.jsx)("span",{className:"font-medium text-navy-900",children:e.name||"—"})},{key:"email",label:"Email",sortable:!0},{key:"phone",label:"Phone",render:e=>e.phone||"—"},{key:"tasks",label:"Tasks",render:e=>e._count.assignedTasks},{key:"stations",label:"Stations",render:e=>e._count.assignedStations},{key:"createdAt",label:"Joined",sortable:!0,render:e=>new Date(e.createdAt).toLocaleDateString()}],data:e,keyField:"id"})})]})}},55437:function(e,t,r){"use strict";r.d(t,{w:function(){return i}});var s=r(57437),n=r(93448);let a=(0,r(68755).Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var o=r(40875),l=r(2265);function i(e){let{columns:t,data:r,keyField:i,emptyMessage:c="No data found",onRowClick:d}=e,[u,m]=(0,l.useState)(null),[x,h]=(0,l.useState)("asc"),f=[...r].sort((e,t)=>{if(!u)return 0;let r=e[u],s=t[u];if(null==r||null==s)return 0;let n=String(r).localeCompare(String(s));return"asc"===x?n:-n});return 0===r.length?(0,s.jsx)("div",{className:"text-center py-12 text-text-secondary text-sm",children:c}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b border-surface-border",children:t.map(e=>(0,s.jsx)("th",{className:(0,n.cn)("text-left py-3 px-4 text-xs font-semibold text-text-secondary uppercase tracking-wider",e.sortable&&"cursor-pointer select-none hover:text-navy-900",e.className),onClick:e.sortable?()=>{var t;u===(t=e.key)?h("asc"===x?"desc":"asc"):(m(t),h("asc"))}:void 0,children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[e.label,e.sortable&&u===e.key&&("asc"===x?(0,s.jsx)(a,{className:"h-3 w-3"}):(0,s.jsx)(o.Z,{className:"h-3 w-3"}))]})},e.key))})}),(0,s.jsx)("tbody",{children:f.map(e=>(0,s.jsx)("tr",{onClick:d?()=>d(e):void 0,className:(0,n.cn)("border-b border-surface-border last:border-0 transition-colors",d&&"cursor-pointer hover:bg-surface-offwhite"),children:t.map(t=>{var r;return(0,s.jsx)("td",{className:(0,n.cn)("py-3 px-4",t.className),children:t.render?t.render(e):String(null!==(r=e[t.key])&&void 0!==r?r:"")},t.key)})},String(e[i])))})]})})}},80216:function(e,t,r){"use strict";r.d(t,{u:function(){return a}});var s=r(57437),n=r(27648);function a(e){let{icon:t,title:r,description:a,actionLabel:o,actionHref:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,s.jsx)("div",{className:"h-16 w-16 rounded-2xl bg-navy-50 flex items-center justify-center mb-4",children:(0,s.jsx)(t,{className:"h-8 w-8 text-navy-400"})}),(0,s.jsx)("h3",{className:"font-heading text-lg font-semibold text-navy-900 mb-1",children:r}),(0,s.jsx)("p",{className:"text-sm text-text-secondary max-w-sm mb-6",children:a}),o&&l&&(0,s.jsx)(n.default,{href:l,className:"px-5 py-2.5 text-sm font-semibold rounded-lg bg-orange text-white hover:bg-orange-600 transition-all duration-300",children:o})]})}},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(61994),n=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[2972,8697,2971,2117,1744],function(){return e(e.s=7111)}),_N_E=e.O()}]);