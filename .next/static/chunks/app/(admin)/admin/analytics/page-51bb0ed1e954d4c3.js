(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3401],{38285:function(e,t,s){Promise.resolve().then(s.bind(s,14903))},14903:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var r=s(57437),n=s(2265),i=s(95252),a=s(44794),l=s(16275),d=s(89573),o=s(36338),c=s(14296),u=s(21156),x=s(56940),h=s(97059),m=s(62994),j=s(78155),f=s(52797),v=s(77031),b=s(64378),y=s(86810),g=s(10062),p=s(20407),k=s(53250),N=s(5481),w=s(88822);let K=["#1e2d3d","#e8842c","#2a3f54","#f5a623","#6b7280"];function S(e){let{data:t,title:s}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-4",children:[(0,r.jsx)("h3",{className:"font-medium text-navy-900 text-sm mb-4",children:s}),(0,r.jsx)(c.h,{width:"100%",height:250,children:(0,r.jsxs)(u.w,{data:t,children:[(0,r.jsx)(x.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,r.jsx)(h.K,{dataKey:"name",tick:{fontSize:12},stroke:"#6b7280"}),(0,r.jsx)(m.B,{tick:{fontSize:12},stroke:"#6b7280"}),(0,r.jsx)(j.u,{}),(0,r.jsx)(f.x1,{type:"monotone",dataKey:"revenue",stroke:"#e8842c",strokeWidth:2,dot:{fill:"#e8842c",r:4}})]})})]})}function D(e){let{data:t,title:s}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-4",children:[(0,r.jsx)("h3",{className:"font-medium text-navy-900 text-sm mb-4",children:s}),(0,r.jsx)(c.h,{width:"100%",height:250,children:(0,r.jsxs)(v.v,{data:t,children:[(0,r.jsx)(x.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,r.jsx)(h.K,{dataKey:"name",tick:{fontSize:12},stroke:"#6b7280"}),(0,r.jsx)(m.B,{tick:{fontSize:12},stroke:"#6b7280"}),(0,r.jsx)(j.u,{}),(0,r.jsx)(b.$Q,{dataKey:"shipments",fill:"#1e2d3d",radius:[4,4,0,0]}),(0,r.jsx)(b.$Q,{dataKey:"completed",fill:"#e8842c",radius:[4,4,0,0]})]})})]})}function R(e){let{data:t,title:s}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-4",children:[(0,r.jsx)("h3",{className:"font-medium text-navy-900 text-sm mb-4",children:s}),(0,r.jsx)(c.h,{width:"100%",height:250,children:(0,r.jsxs)(y.u,{children:[(0,r.jsx)(g.by,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:s}=e;return"".concat(t," ").concat(((null!=s?s:0)*100).toFixed(0),"%")},children:t.map((e,t)=>(0,r.jsx)(p.b,{fill:K[t%K.length]},"cell-".concat(t)))}),(0,r.jsx)(j.u,{}),(0,r.jsx)(k.D,{})]})})]})}function O(e){let{data:t,title:s}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-4",children:[(0,r.jsx)("h3",{className:"font-medium text-navy-900 text-sm mb-4",children:s}),(0,r.jsx)(c.h,{width:"100%",height:250,children:(0,r.jsxs)(N.T,{data:t,children:[(0,r.jsx)(x.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,r.jsx)(h.K,{dataKey:"name",tick:{fontSize:12},stroke:"#6b7280"}),(0,r.jsx)(m.B,{tick:{fontSize:12},stroke:"#6b7280"}),(0,r.jsx)(j.u,{}),(0,r.jsx)(w.uN,{type:"monotone",dataKey:"orders",stroke:"#1e2d3d",fill:"#1e2d3d",fillOpacity:.1,strokeWidth:2}),(0,r.jsx)(w.uN,{type:"monotone",dataKey:"completed",stroke:"#e8842c",fill:"#e8842c",fillOpacity:.1,strokeWidth:2})]})})]})}function T(){var e,t,s,c,u,x,h,m;let[j,f]=(0,n.useState)(null),[v,b]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{fetch("/api/admin/analytics").then(e=>e.json()).then(e=>{f(e),b(!1)}).catch(()=>b(!1))},[]),v)?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange border-t-transparent rounded-full"})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"font-heading text-2xl font-bold text-navy-900",children:"Analytics"}),(0,r.jsx)("p",{className:"text-text-secondary text-sm mt-1",children:"Platform performance and insights"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,r.jsx)(o.R,{title:"Total Revenue",value:"â‚¬".concat((null!==(e=null==j?void 0:j.stats.totalRevenue)&&void 0!==e?e:0).toLocaleString("de-DE",{minimumFractionDigits:2})),icon:i.Z}),(0,r.jsx)(o.R,{title:"Total Shipments",value:null!==(t=null==j?void 0:j.stats.totalShipments)&&void 0!==t?t:0,icon:a.Z}),(0,r.jsx)(o.R,{title:"Total Orders",value:null!==(s=null==j?void 0:j.stats.totalOrders)&&void 0!==s?s:0,icon:l.Z}),(0,r.jsx)(o.R,{title:"Active Operators",value:null!==(c=null==j?void 0:j.stats.activeOperators)&&void 0!==c?c:0,icon:d.Z})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(S,{data:null!==(u=null==j?void 0:j.revenueData)&&void 0!==u?u:[],title:"Monthly Revenue"}),(0,r.jsx)(D,{data:null!==(x=null==j?void 0:j.throughputData)&&void 0!==x?x:[],title:"Weekly Throughput"}),(0,r.jsx)(R,{data:null!==(h=null==j?void 0:j.statusData)&&void 0!==h?h:[],title:"Shipment Status Distribution"}),(0,r.jsx)(O,{data:null!==(m=null==j?void 0:j.orderTrendsData)&&void 0!==m?m:[],title:"Order Trends"})]})]})}},36338:function(e,t,s){"use strict";s.d(t,{R:function(){return i}});var r=s(57437),n=s(93448);function i(e){let{title:t,value:s,icon:i,trend:a,trendUp:l,className:d}=e;return(0,r.jsx)("div",{className:(0,n.cn)("bg-white rounded-xl border border-surface-border p-6",d),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-text-secondary",children:t}),(0,r.jsx)("p",{className:"mt-1 text-2xl font-bold text-navy-900",children:s}),a&&(0,r.jsx)("p",{className:(0,n.cn)("mt-1 text-xs font-medium",l?"text-green-600":"text-red-500"),children:a})]}),(0,r.jsx)("div",{className:"h-10 w-10 rounded-lg bg-orange/10 flex items-center justify-center",children:(0,r.jsx)(i,{className:"h-5 w-5 text-orange"})})]})})}},93448:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var r=s(61994),n=s(53335);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[8697,2175,2971,2117,1744],function(){return e(e.s=38285)}),_N_E=e.O()}]);