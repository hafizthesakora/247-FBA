(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1075],{32763:function(e,t,n){Promise.resolve().then(n.bind(n,26936))},51817:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(68755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},52048:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(68755).Z)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]])},99397:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(68755).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},92369:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(68755).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},27648:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var s=n(72972),a=n.n(s)},26936:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(57437),a=n(2265),r=n(99397),i=n(51817),o=n(52048),l=n(91523),c=n(80216);function d(){let[e,t]=(0,a.useState)([]),[n,d]=(0,a.useState)([]),[u,x]=(0,a.useState)(!0),[m,f]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[g,b]=(0,a.useState)({name:"",type:"RECEIVING",capacity:"10",assignedOperatorId:""});function y(){Promise.all([fetch("/api/admin/floor").then(e=>e.json()),fetch("/api/admin/operators").then(e=>e.json())]).then(e=>{let[n,s]=e;t(n.stations||[]),d(s.operators||[]),x(!1)}).catch(()=>x(!1))}async function v(e){e.preventDefault(),p(!0);try{(await fetch("/api/admin/floor/stations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...g,capacity:parseInt(g.capacity),assignedOperatorId:g.assignedOperatorId||null})})).ok&&(f(!1),b({name:"",type:"RECEIVING",capacity:"10",assignedOperatorId:""}),y())}catch(e){}p(!1)}return((0,a.useEffect)(()=>{y()},[]),u)?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange border-t-transparent rounded-full"})}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"font-heading text-2xl font-bold text-navy-900",children:"Floor Management"}),(0,s.jsx)("p",{className:"text-text-secondary text-sm mt-1",children:"Manage warehouse stations"})]}),(0,s.jsxs)("button",{onClick:()=>f(!m),className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg bg-orange text-white text-sm font-semibold hover:bg-orange-600 transition-colors",children:[(0,s.jsx)(r.Z,{className:"h-4 w-4"}),"Add Station"]})]}),m&&(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-surface-border p-6 mb-6",children:[(0,s.jsx)("h2",{className:"font-heading text-base font-semibold text-navy-900 mb-4",children:"New Station"}),(0,s.jsxs)("form",{onSubmit:v,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Station Name"}),(0,s.jsx)("input",{type:"text",value:g.name,onChange:e=>b({...g,name:e.target.value}),required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",placeholder:"e.g., Receiving Bay A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Type"}),(0,s.jsxs)("select",{value:g.type,onChange:e=>b({...g,type:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",children:[(0,s.jsx)("option",{value:"RECEIVING",children:"Receiving"}),(0,s.jsx)("option",{value:"INSPECTION",children:"Inspection"}),(0,s.jsx)("option",{value:"PREP",children:"Prep"}),(0,s.jsx)("option",{value:"QC",children:"QC"}),(0,s.jsx)("option",{value:"SHIPPING",children:"Shipping"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Capacity"}),(0,s.jsx)("input",{type:"number",value:g.capacity,onChange:e=>b({...g,capacity:e.target.value}),min:"1",className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1.5",children:"Assigned Operator"}),(0,s.jsxs)("select",{value:g.assignedOperatorId,onChange:e=>b({...g,assignedOperatorId:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-surface-border text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",children:[(0,s.jsx)("option",{value:"",children:"Unassigned"}),n.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name||e.email},e.id))]})]}),(0,s.jsxs)("div",{className:"sm:col-span-2 flex gap-3",children:[(0,s.jsxs)("button",{type:"submit",disabled:h,className:"px-5 py-2.5 rounded-lg bg-orange text-white text-sm font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center gap-2",children:[h&&(0,s.jsx)(i.Z,{className:"h-4 w-4 animate-spin"}),"Create Station"]}),(0,s.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-5 py-2.5 rounded-lg border border-surface-border text-sm font-medium hover:bg-surface-offwhite transition-colors",children:"Cancel"})]})]})]}),0===e.length?(0,s.jsx)(c.u,{icon:o.Z,title:"No stations yet",description:"Create stations to organize your warehouse floor.",actionLabel:"Add Station"}):(0,s.jsx)(l.e,{stations:e})]})}},91523:function(e,t,n){"use strict";n.d(t,{e:function(){return l}});var s=n(57437),a=n(92369),r=n(93448);let i={RECEIVING:"bg-blue-100 text-blue-700",INSPECTION:"bg-yellow-100 text-yellow-700",PREP:"bg-purple-100 text-purple-700",QC:"bg-indigo-100 text-indigo-700",SHIPPING:"bg-cyan-100 text-cyan-700"};function o(e){var t;let{station:n}=e,o=Math.min(n.currentLoad/n.capacity*100,100),l="ACTIVE"===n.status;return(0,s.jsxs)("div",{className:(0,r.cn)("bg-white rounded-xl border p-4 transition-shadow hover:shadow-sm",l?"border-surface-border":"border-gray-200 opacity-60"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-medium text-navy-900 text-sm",children:n.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:(0,r.cn)("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold",i[n.type]||"bg-gray-100 text-gray-700"),children:n.type}),(0,s.jsx)("span",{className:(0,r.cn)("h-2 w-2 rounded-full",l?"bg-green-500":"bg-gray-400")})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-text-secondary mb-1",children:[(0,s.jsx)("span",{children:"Capacity"}),(0,s.jsxs)("span",{children:[n.currentLoad,"/",n.capacity]})]}),(0,s.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:(0,r.cn)("h-full rounded-full transition-all",o>80?"bg-red-500":o>50?"bg-orange":"bg-green-500"),style:{width:"".concat(o,"%")}})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,s.jsx)(a.Z,{className:"h-3 w-3"}),(null===(t=n.assignedOperator)||void 0===t?void 0:t.name)||"Unassigned"]}),n._count&&(0,s.jsxs)("span",{children:[n._count.tasks," active tasks"]})]})]})}function l(e){let{stations:t}=e;return 0===t.length?(0,s.jsx)("div",{className:"text-center py-12 text-text-secondary text-sm",children:"No stations configured yet."}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,s.jsx)(o,{station:e},e.id))})}},80216:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});var s=n(57437),a=n(27648);function r(e){let{icon:t,title:n,description:r,actionLabel:i,actionHref:o}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,s.jsx)("div",{className:"h-16 w-16 rounded-2xl bg-navy-50 flex items-center justify-center mb-4",children:(0,s.jsx)(t,{className:"h-8 w-8 text-navy-400"})}),(0,s.jsx)("h3",{className:"font-heading text-lg font-semibold text-navy-900 mb-1",children:n}),(0,s.jsx)("p",{className:"text-sm text-text-secondary max-w-sm mb-6",children:r}),i&&o&&(0,s.jsx)(a.default,{href:o,className:"px-5 py-2.5 text-sm font-semibold rounded-lg bg-orange text-white hover:bg-orange-600 transition-all duration-300",children:i})]})}},93448:function(e,t,n){"use strict";n.d(t,{cn:function(){return r}});var s=n(61994),a=n(53335);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[2972,8697,2971,2117,1744],function(){return e(e.s=32763)}),_N_E=e.O()}]);