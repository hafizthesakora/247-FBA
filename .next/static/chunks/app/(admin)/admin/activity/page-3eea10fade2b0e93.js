(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9906],{59802:function(e,t,r){Promise.resolve().then(r.bind(r,78550))},68755:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var s=r(2265);let n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},d=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:u,iconNode:h,...m}=e;return(0,s.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:r,strokeWidth:l?24*Number(i)/Number(a):i,className:n("lucide",d),...!u&&!c(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:o,...c}=r;return(0,s.createElement)(d,{ref:i,iconNode:t,className:n("lucide-".concat(a(l(e))),"lucide-".concat(e),o),...c})});return r.displayName=l(e),r}},42488:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(68755).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},92451:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(68755).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},10407:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(68755).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var s=r(72972),n=r.n(s)},78550:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(57437),n=r(2265),a=r(42488),i=r(92451),l=r(10407),o=r(80216);function c(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)({page:1,limit:20,total:0,totalPages:0}),[d,u]=(0,n.useState)(!0),[h,m]=(0,n.useState)("ALL");function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=new URLSearchParams({page:String(e)});"ALL"!==h&&r.set("entityType",h),fetch("/api/admin/activity?".concat(r)).then(e=>e.json()).then(e=>{t(e.activities||[]),c(e.pagination),u(!1)}).catch(()=>u(!1))}return((0,n.useEffect)(()=>{f(1)},[h]),d)?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange border-t-transparent rounded-full"})}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"font-heading text-2xl font-bold text-navy-900",children:"Activity Log"}),(0,s.jsx)("p",{className:"text-text-secondary text-sm mt-1",children:"Platform-wide activity history"})]}),(0,s.jsx)("div",{className:"flex gap-3 mb-6",children:(0,s.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"px-3 py-2 rounded-lg border border-surface-border text-sm focus:outline-none focus:ring-2 focus:ring-orange/20 focus:border-orange",children:[(0,s.jsx)("option",{value:"ALL",children:"All Types"}),(0,s.jsx)("option",{value:"Task",children:"Tasks"}),(0,s.jsx)("option",{value:"Shipment",children:"Shipments"}),(0,s.jsx)("option",{value:"Station",children:"Stations"})]})}),0===e.length?(0,s.jsx)(o.u,{icon:a.Z,title:"No activity yet",description:"Activity will appear here as operators work on tasks and shipments."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white rounded-xl border border-surface-border divide-y divide-surface-border",children:e.map(e=>{var t,r;return(0,s.jsxs)("div",{className:"px-4 py-3 flex items-start gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-orange/10 flex items-center justify-center shrink-0 mt-0.5",children:(0,s.jsx)(a.Z,{className:"h-4 w-4 text-orange"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("p",{className:"text-sm text-navy-900",children:[(0,s.jsx)("span",{className:"font-medium",children:(null===(t=e.user)||void 0===t?void 0:t.name)||(null===(r=e.user)||void 0===r?void 0:r.email)||"System"})," ",e.action]}),(0,s.jsxs)("p",{className:"text-xs text-text-secondary mt-0.5",children:[e.entityType,e.entityId?" \xb7 ".concat(e.entityId.slice(-8)):""," ","\xb7 ",new Date(e.createdAt).toLocaleString()]})]})]},e.id)})}),r.totalPages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("p",{className:"text-sm text-text-secondary",children:["Page ",r.page," of ",r.totalPages," (",r.total," entries)"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>f(r.page-1),disabled:r.page<=1,className:"p-2 rounded-lg border border-surface-border hover:bg-surface-offwhite transition-colors disabled:opacity-50",children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>f(r.page+1),disabled:r.page>=r.totalPages,className:"p-2 rounded-lg border border-surface-border hover:bg-surface-offwhite transition-colors disabled:opacity-50",children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})]})]})]})]})}},80216:function(e,t,r){"use strict";r.d(t,{u:function(){return a}});var s=r(57437),n=r(27648);function a(e){let{icon:t,title:r,description:a,actionLabel:i,actionHref:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,s.jsx)("div",{className:"h-16 w-16 rounded-2xl bg-navy-50 flex items-center justify-center mb-4",children:(0,s.jsx)(t,{className:"h-8 w-8 text-navy-400"})}),(0,s.jsx)("h3",{className:"font-heading text-lg font-semibold text-navy-900 mb-1",children:r}),(0,s.jsx)("p",{className:"text-sm text-text-secondary max-w-sm mb-6",children:a}),i&&l&&(0,s.jsx)(n.default,{href:l,className:"px-5 py-2.5 text-sm font-semibold rounded-lg bg-orange text-white hover:bg-orange-600 transition-all duration-300",children:i})]})}}},function(e){e.O(0,[2972,2971,2117,1744],function(){return e(e.s=59802)}),_N_E=e.O()}]);